setwd("/data/home/templ/workspace/sdcMicro-package")
library(sdcMicro)
detach(package:sdcMicro)
library(sdcMicro)
setwd("/data/home/templ/workspace/sdcMicro-package")
devtools::load_all(".")
help(pa=sdcMicro)
example("extractManipData")
francdat
library(sdcMicro)
data(francdata)
data(francdat)
francdat
library(testthat)
library(sdcMicro)
test_check("sdcMicro")
df <- data.frame("region"=c("A", "A","A"),
"sex"=c("male", "female"),
"agegroup"c("5","5"))
?test_check
df <- data.frame("region"=c("A", "A","A"),
"sex"=c("male", "female"),
"agegroup"c("5","5"))
df <- data.frame("region"=c("A", "A","A"),
"sex"=c("male", "female"),
"agegroup"=c("5","5"))
df <- data.frame("region"=c("A", "A","A"),
"sex"=c("male", "female","female"),
"agegroup"=c("5","5","5"))
df
df <- data.frame("region"=c("A", "A","A","A"),
"sex"=c("male", "female","female","male"),
"agegroup"=c("5","5","5","5"))
df
fr <- freqCalc(df)
fr <- freqCalc(df, keyVars = 1:3)
fr
df <- data.frame("region"=c("A", "A", "A", "A", "A"),
"status"=c("single", "married","married","single", "widow"),
"agegroup"=c("5","5","5","5","5"))
fr <- freqCalc(df, keyVars = 1:3)
fr
sdc <- createSdcObj(df, keyVars = 1:3)
sdc
sdc <- kAnon(sdc)
sdc
sdc@risk$individual[,"fk"]
str(fr)
fr$fk
fr <- kAnon(df)
?kAnon
fr <- kAnon(df, keyVars =1:3)
fr
str(fr)
fr$xAnon
extractManipData(sdc)
extractManipData(sdc) == fr$xAnon
fr$xAnon
sdc@risk$individual[,"fk"]
sdc <- createSdcObj(df, keyVars = 1:3)
sdc@risk$individual[,"fk"]
expect_equal(extractManipData(sdc), fr$xAnon)
expect_equal(sdc@risk$individual[,"fk"], c(2,2,2,2,1))
?"expect_equal"
df <- data.frame("region"=c("A", "A", "A", "A", "A"),
"status"=c("single", "married","married","single", "widow"),
"agegroup"=c("5","5","5","5","5"))
fr <- freqCalc(df, keyVars = 1:3)
fr <- kAnon(df, keyVars =1:3)
fr$xAnon
sdc <- createSdcObj(df, keyVars = 1:3)
sdc <- kAnon(sdc)
sdc@risk$individual[,"fk"]
expect_equal(extractManipData(sdc), fr$xAnon)
sdc <- createSdcObj(df, keyVars = 1:3)
expect_equal(sdc@risk$individual[,"fk"], c(2,2,2,2,1))
fr <- freqCalc(df, keyVars = 1:3)
fr <- kAnon(df, keyVars =1:3)
sdc <- createSdcObj(df, keyVars = 1:3)
sdc <- kAnon(sdc)
expect_equal(extractManipData(sdc), fr$xAnon)
sdc <- createSdcObj(df, keyVars = 1:3)
expect_equal(sdc@risk$individual[,"fk"], c(2,2,2,2,1))
sdc <- createSdcObj(df, keyVars = 1:3)
sdc <- kAnon(sdc)
sdc
sdc@risk$individual[,"fk"]
sdc <- createSdcObj(df, keyVars = 1:3)
sdc <- kAnon(sdc)
expect_equal(sdc@risk$individual[,"fk"], c(3,3,3,3,5))
df
2/5
4/5
0.4+0.4+0.2
